<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PTB2</title>
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
    <link rel="icon" href="https://scontent.xx.fbcdn.net/v/t1.15752-9/p206x206/237119104_2322121317923571_3043930886579714758_n.png?_nc_cat=101&ccb=1-5&_nc_sid=aee45a&_nc_ohc=RdlAbtHOtyYAX-FYLCy&_nc_ad=z-m&_nc_cid=0&_nc_ht=scontent.xx&oh=0fd4e2d60f25ca7a8106278ef7ae8c6c&oe=6151E7DB">
</head>
<body>
    <div class="container" id="main">
        <h1>Giải phương trình bậc 2</h1>
        <form>
            <div class="form-group">
                <label for="input-a">Input a:</label>
                <input type="number" name="input-a" id="input-a">
            </div>
            <div class="form-group">
                <label for="input-b">Input b:</label>
                <input type="number" name="input-b" id="input-b">
            </div>
            <div class="form-group">
                <label for="input-c">Input c:</label>
                <input type="number" name="input-c" id="input-c">
            </div>
            <button type="submit" id="calculate">Tính toán</button>
            <button type="submit" id="reset">Làm mới</button>
        </form>

        <h3 id="result"></h3>
    </div>

    <script>
        // Calculate button
        document.getElementById('calculate').onclick = function(event) {
            event.preventDefault();

            // Get input
            let a = document.getElementById('input-a').value;
            let b = document.getElementById('input-b').value;
            let c = document.getElementById('input-c').value;

            let result = document.getElementById('result');

            if (a === '' || b === '' || c === '') {
                // const errorElement = document.createElement('h3'); // <h3></h3>
                // const errorMessage = document.createTextNode('Vui lòng nhập các hệ số số'); // create content
                // errorElement.appendChild(errorMessage); // Add text to h3 -> <h3>Text you add</h3>
                
                // document.getElementById('main').appendChild(errorElement); // show text to screen

                result.innerHTML = 'Vui lòng nhập các hệ số số.';
                return;
            }

            // Convert to number
            a = Number.parseFloat(a);
            b = Number.parseFloat(b);
            c = Number.parseFloat(c);

            if (a === 0 && b === 0 && c != 0) {
                result.innerHTML = 'Vô lý!';
                return;
            }

            if (a === 0 && b === 0 && c === 0) {
                result.innerHTML = 'Phương trình vô số nghiệm!';
                return;
            }

            // if a = 0 -> phương trình bậc 1
            if (a === 0) {
                const x = -c / b;
                result.innerHTML = 'Phương trình có nghiệm là x = ' + x.toFixed(2);
                return;
            }

            // Step 1
            const denta = b ** 2 - 4 * a * c;
            
            // Step 2
            if (denta < 0) {
                result.innerHTML = 'Phương trình vô nghiệm';
            } else if (denta === 0) {
                const x = (-1) * b / (2 * a);
                result.innerHTML = 'Phương trình có nghiệm kép là x = ' + x.toFixed(2);
            } else {
                const x1 = ((-1 * b) + Math.sqrt(denta)) / (2 * a);
                const x2 = ((-1 * b) - Math.sqrt(denta)) / (2 * a);

                result.innerHTML = 'Phương trình có 2 nghiệm phân biệt là x1 = ' + x1.toFixed(2) + ' và x2 = ' + x2.toFixed(2);
            }
        }

        // Reset button
        document.getElementById('reset').onclick = function (e) {
            e.preventDefault();

            // Delete result
            document.getElementById('result').innerHTML = '';

            // Delete hệ số
            document.getElementById('input-a').value = '';
            document.getElementById('input-b').value = '';
            document.getElementById('input-c').value = '';

            // Focus hệ số a
            document.getElementById('input-a').focus();
        }
    </script>
</body>
</html>